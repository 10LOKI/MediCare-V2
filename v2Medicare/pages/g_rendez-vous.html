<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="page admin Dashbord">
    <meta name="keywords"
        content="Dashbord, Medecine, nurse, gestion, disponibilité, spécialité, Rendez-vous,admin, medicare+">
    <title>Rendez-vous</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link rel="shortcut icon" href="../../v1Medicare/images/Medicare+.webp" type="image/x-icon">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.3.0/fonts/remixicon.css" rel="stylesheet">
</head>

<body>
    <div
        class="w-10 h-10 bg-green-400 hover:bg-green-500 cursor-pointer rounded-l-full absolute top-140 left-[24%] md:left-[20%] lg:left-[16%] xl:left-[14%]  hover:scale-110  mx-auto  text-3xl text-amber-50">
        <h1 class="close absolute top-0 right-2"></h1>
    </div>
    <section class="bg-gray-900 w-[100vw] h-[100vh] flex">
        <div class="navDashbord bg-slate-100 grid grid-flow-col grid-rows-6  w-[300px] h-full px-1">
            <a class="row-span-1 w-full h-full h-fit flex justify-center items-center" href="../../index.html">
                <div class="text-gray-900 text-lg md:text-2xl font-bold">MED <span
                        class="font-bold text-blue-500">Care+</span>
                </div>
            </a>
            <nav class="row-start-2 row-end-5 grid grid-rows-5 gap-2">
                <label class="relative cursor-pointer">
                    <input type="radio" name="med" class="peer absolute [clip:rect(0_0_0_0)] [clip-path:inset(100%)]" />
                    <div
                        class="flex items-center w-full h-[90%] text-sm pr-2 md:text-base md:p-0 text-white bg-gray-900 rounded-lg shadow-md transition duration-500 hover:bg-white hover:text-blue-500 peer-checked:bg-[#dee7ff] peer-checked:text-[#0043ed] peer-checked:[box-shadow:0_0_0_0.0625em_#0043ed]">
                        <i class="ri-dashboard-horizontal-fill mx-2 md:mx-7"></i> Dashboard
                    </div>
                </label>
                <label class="relative cursor-pointer">
                    <input type="radio" name="med" class="peer absolute [clip:rect(0_0_0_0)] [clip-path:inset(100%)]" />
                    <div
                        class="flex items-center w-full h-[90%] text-sm  md:text-base text-white bg-gray-900 rounded-lg shadow-md transition duration-500 hover:bg-white hover:text-blue-500 peer-checked:bg-[#dee7ff] peer-checked:text-[#0043ed] peer-checked:[box-shadow:0_0_0_0.0625em_#0043ed]">
                        <a href="g_medcins.html"><i class="ri-medicine-bottle-fill mx-1 md:mx-7"></i> Médecins</a>
                    </div>
                </label>
                <label class="relative cursor-pointer">
                    <input type="radio" name="med" class="peer absolute [clip:rect(0_0_0_0)] [clip-path:inset(100%)]" />
                    <div
                        class="flex items-center w-full h-[90%] text-sm md:text-base text-white bg-gray-900 rounded-lg shadow-md transition duration-500 hover:bg-white hover:text-blue-500 peer-checked:bg-[#dee7ff] peer-checked:text-[#0043ed] peer-checked:[box-shadow:0_0_0_0.0625em_#0043ed]">
                        <a href="g_specialites.html"><i class="ri-test-tube-fill mx-1 md:mx-7"></i> Spécialité</a>
                    </div>
                </label>
                <label class="relative cursor-pointer">
                    <input type="radio" name="med" class="peer absolute [clip:rect(0_0_0_0)] [clip-path:inset(100%)]" />
                    <div
                        class="flex items-center w-full h-[90%] text-sm md:text-base text-white bg-gray-900 rounded-lg shadow-md transition duration-500 hover:bg-white hover:text-blue-500 peer-checked:bg-[#dee7ff] peer-checked:text-[#0043ed] peer-checked:[box-shadow:0_0_0_0.0625em_#0043ed]">
                        <a href="g_disponibilites.html"> <i class="ri-pulse-fill mx-1 md:mx-7"></i> Disponibilité</a>
                    </div>
                </label>
                <label class="relative cursor-pointer">
                    <input type="radio" name="med" class="peer absolute [clip:rect(0_0_0_0)] [clip-path:inset(100%)]" />
                    <div
                        class="flex items-center w-full h-full md:h-[80%] text-sm md:text-base text-white bg-gray-900 rounded-lg shadow-md transition duration-500 hover:bg-white hover:text-blue-500 peer-checked:bg-[#dee7ff] peer-checked:text-[#0043ed] peer-checked:[box-shadow:0_0_0_0.0625em_#0043ed]">
                        <i class="ri-calendar-fill mx-1 md:mx-7"></i> Rendez-vous
                    </div>
                </label>
            </nav>

            <div
                class="logOut relative top-10 row-start-6 row-end-7 flex text-gray-900  items-center hover:text-blue-500 cursor-pointer w-fit h-fit transition bltext-blue-500 cursor-pointer5 duration-300">
                <a href="../acceuil.html"> <i class="ri-logout-circle-r-line text-3xl "></i>
                    Log Out</a>
            </div>
        </div>
        <div id="bodySec" class="flex justify-center items-center w-full h-full">
            <div class="bg-white h-[90%] w-[95%] rounded-lg shadow-sm">
                <!------------------- Section maipulation data RDV ----------------------------------------->
                <div id="rdv">

                    <div class="relative overflow-x-auto">
                        <table class="w-full text-sm text-left rtl:text-right text-gray-500">
                            <thead class="text-xs text-gray-700 bg-green-300 uppercase shadow-md">
                                <tr class="shadow-md">
                                    <th scope="col" class="px-1 md:px-4 py-4">
                                        Doctor
                                    </th>
                                    <th scope="col" class="px-1 md:px-4 py-4">
                                        Patient
                                    </th>
                                    <th scope="col" class="px-1 md:px-4 py-4">
                                        Date
                                    </th>
                                    <th scope="col" class="px-1 md:px-4 py-4">
                                        Heure
                                    </th>
                                    <th scope="col" class="px-1 md:px-4 py-4">
                                        Status
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="tbody">

                            </tbody>
                        </table>
                    </div>

                </div>
            </div>
        </div>
    </section>

    <script>
        //------------------------------------------------------- Rendez-vous V2 ----------------------------------------------------------------

        function listRendezVous() {

            let list_Rendez_Vous = document.querySelector("#tbody")

            let array = []
            array = JSON.parse(localStorage.getItem('appointments'))
            let tr = document.createElement('tr')
            const Status = appointments.filter(a => a.status === 'Traitemant');
            tr.classList.add(item.Status === 'accepte' ? 'bg-green-50' :
            item.status === 'refuse' ? 'bg-red-50' : 'bg-white');
            tr.innerHTML = array.map(item => `
        <tr class:"border-b border-gray-200 shadow-md">
            <td class="px-6 py-4">${item.fullName}</td>
            <td class="px-6 py-4">${item.doctor}</td>
            <td class="px-6 py-4">${item.date}</td>
            <td class="px-6 py-4">${item.time}</td>
            <td class="bg-amber-200 shadow-md flex flex-row items-center justify-evenly">
                <div class="bg-center bg-no-repeat bg-[url('../../v1Medicare/images/verifie.png')] flex items-center justify-center p-1 cursor-pointer w-10/12 h-10 hover:scale-110 duration-700 transition-all "></div>
                <div class="bg-center bg-no-repeat bg-[url('../../v1Medicare/images/supprimer.png')] flex items-center justify-center p-1 cursor-pointer w-10/12 h-10 hover:scale-80 duration-700 transition-all"></div>
            </td>
        </tr>
  `).join('');
            list_Rendez_Vous.appendChild(tr)
            list_Rendez_Vous = ''
        }
        listRendezVous()



        const closeThisNav = document.querySelector(".close");
        const navDashbord = document.querySelector(".navDashbord");

        closeThisNav.textContent = '<';

        closeThisNav.addEventListener('click', () => {
            navDashbord.classList.toggle('hidden');
            closeThisNav.classList.toggle('rounded-l-full');
            closeThisNav.classList.toggle('rounded-r-full');
        });

        function refuseAppointment(id) {
            let appointments = JSON.parse(localStorage.getItem('appointments') || '[]');
            if (confirm('Êtes-vous sûr de refuser ce rendez-vous ?')) {
                appointments = appointments.map(apt =>
                    apt.id === id ? { ...apt, status: 'refuse' } : apt
                );
                localStorage.setItem('appointments', JSON.stringify(appointments));
                displayAppointments();
            }
        }

        function acceptAppointment(id) {
            let appointments = JSON.parse(localStorage.getItem('appointments') || '[]');
            if (confirm('Êtes-vous sûr d’accepter ce rendez-vous ?')) {
                appointments = appointments.map(apt =>
                    apt.id === id ? { ...apt, status: 'accepte' } : apt
                );
                localStorage.setItem('appointments', JSON.stringify(appointments));
            }
        }

    </script>
</body>

</html>